{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_governor",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_ledger",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "SD59x18",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMath_SD59x18_Exp2_InputTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "SD59x18",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMath_SD59x18_Exp_InputTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "SD59x18",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMath_SD59x18_Log_InputTooSmall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "slot",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "priorR",
          "type": "int256"
        }
      ],
      "name": "ExpandedPositionListed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "slot",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "priorR",
          "type": "int256"
        }
      ],
      "name": "PositionListed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "slot",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "alphaWad",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "reserveBefore",
          "type": "int256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "reserveAfter",
          "type": "int256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "Rnew",
          "type": "int256"
        }
      ],
      "name": "PositionSplitFromReserve",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "pBackWad",
          "type": "uint256"
        }
      ],
      "name": "PriceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isBack",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokens",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "usdcAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isBuy",
          "type": "bool"
        }
      ],
      "name": "Trade",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isBack",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "t",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxUSDCIn",
          "type": "uint256"
        }
      ],
      "name": "applyBuyExactTokens",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "usdcIn",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isBack",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "usdcIn",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minTokensOut",
          "type": "uint256"
        }
      ],
      "name": "applyBuyForUSDC",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "tokensOut",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isBack",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "t",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minUSDCOut",
          "type": "uint256"
        }
      ],
      "name": "applySellExactTokens",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "usdcOut",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isBack",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "usdcOut",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxTokensIn",
          "type": "uint256"
        }
      ],
      "name": "applySellForUSDC",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "tokensIn",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "getAllBackPricesWad",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "positionId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "priceWad",
              "type": "uint256"
            }
          ],
          "internalType": "struct LMSRMarketMaker.PositionPrice[]",
          "name": "prices",
          "type": "tuple[]"
        },
        {
          "internalType": "uint256",
          "name": "reservePriceWad",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        }
      ],
      "name": "getBackPriceWad",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        }
      ],
      "name": "getLayPriceWad",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "getReservePriceWad",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "getZ",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "governor",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "positionId",
              "type": "uint256"
            },
            {
              "internalType": "int256",
              "name": "r",
              "type": "int256"
            }
          ],
          "internalType": "struct LMSRInitLib.InitialPosition[]",
          "name": "initialPositions",
          "type": "tuple[]"
        },
        {
          "internalType": "uint256",
          "name": "liabilityUSDC",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "reserve0",
          "type": "int256"
        },
        {
          "internalType": "bool",
          "name": "isExpanding",
          "type": "bool"
        }
      ],
      "name": "initMarket",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ledger",
      "outputs": [
        {
          "internalType": "contract ILedgerPositions",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "priorR",
          "type": "int256"
        }
      ],
      "name": "listPosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "listSlots",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "listedLedgerIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "alphaWad",
          "type": "uint256"
        }
      ],
      "name": "splitFromReserve",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "slot",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cumStart",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "tStart",
          "type": "uint32"
        },
        {
          "internalType": "uint256",
          "name": "cumEnd",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "tEnd",
          "type": "uint32"
        }
      ],
      "name": "twapConsultFromCheckpoints",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "avgPriceWad",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ledgerPositionId",
          "type": "uint256"
        }
      ],
      "name": "twapCurrentCumulative",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "cumulativeWadSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "timestamp",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ]
}